import{G as q,H as J,c as n,V as p,v as se,a as D,a7 as re,E as H,C as de,t as I,bb as fe,aZ as me,y as ge,at as te,x as L,I as ye,k as N,l as ae,_ as ne}from"./index.e783c946.js";import{P as he,h as _e}from"./index.8ff1420b.js";import{C as Se,R as be}from"./Col.40afaf57.js";import{u as xe,e as Ce}from"./index.9641cdf4.js";import{E as Ie,A as pe,N as ie}from"./styleChecker.df42cde5.js";var Pe=function(){return{avatar:p.any,description:p.any,prefixCls:String,title:p.any}};const Le=q({name:"AListItemMeta",props:Pe(),displayName:"AListItemMeta",__ANT_LIST_ITEM_META:!0,slots:["avatar","description","title"],setup:function(e,h){var t=h.slots,c=J("list",e),f=c.prefixCls;return function(){var P,_,i,M,E,v,m="".concat(f.value,"-item-meta"),r=(P=e.title)!==null&&P!==void 0?P:(_=t.title)===null||_===void 0?void 0:_.call(t),u=(i=e.description)!==null&&i!==void 0?i:(M=t.description)===null||M===void 0?void 0:M.call(t),s=(E=e.avatar)!==null&&E!==void 0?E:(v=t.avatar)===null||v===void 0?void 0:v.call(t),S=n("div",{class:"".concat(f.value,"-item-meta-content")},[r&&n("h4",{class:"".concat(f.value,"-item-meta-title")},[r]),u&&n("div",{class:"".concat(f.value,"-item-meta-description")},[u])]);return n("div",{class:m},[s&&n("div",{class:"".concat(f.value,"-item-meta-avatar")},[s]),(r||u)&&S])}}});var le=Symbol("ListContextKey"),je=globalThis&&globalThis.__rest||function(o,e){var h={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&e.indexOf(t)<0&&(h[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,t=Object.getOwnPropertySymbols(o);c<t.length;c++)e.indexOf(t[c])<0&&Object.prototype.propertyIsEnumerable.call(o,t[c])&&(h[t[c]]=o[t[c]]);return h},Me=function(){return{prefixCls:String,extra:p.any,actions:p.array,grid:Object,colStyle:{type:Object,default:void 0}}};const Ee=q({name:"AListItem",inheritAttrs:!1,Meta:Le,props:Me(),slots:["actions","extra"],setup:function(e,h){var t=h.slots,c=h.attrs,f=se(le,{grid:D(),itemLayout:D()}),P=f.itemLayout,_=f.grid,i=J("list",e),M=i.prefixCls,E=function(){var r,u=((r=t.default)===null||r===void 0?void 0:r.call(t))||[],s;return u.forEach(function(S){fe(S)&&!me(S)&&(s=!0)}),s&&u.length>1},v=function(){var r,u,s=(r=e.extra)!==null&&r!==void 0?r:(u=t.extra)===null||u===void 0?void 0:u.call(t);return P.value==="vertical"?!!s:!E()};return function(){var m,r,u,s,S,V=c.class,G=je(c,["class"]),g=M.value,O=(m=e.extra)!==null&&m!==void 0?m:(r=t.extra)===null||r===void 0?void 0:r.call(t),k=(u=t.default)===null||u===void 0?void 0:u.call(t),y=(s=e.actions)!==null&&s!==void 0?s:re((S=t.actions)===null||S===void 0?void 0:S.call(t));y=y&&!Array.isArray(y)?[y]:y;var b=y&&y.length>0&&n("ul",{class:"".concat(g,"-item-action"),key:"actions"},[y.map(function(A,F){return n("li",{key:"".concat(g,"-item-action-").concat(F)},[A,F!==y.length-1&&n("em",{class:"".concat(g,"-item-action-split")},null)])})]),K=_.value?"div":"li",B=n(K,H(H({},G),{},{class:de("".concat(g,"-item"),I({},"".concat(g,"-item-no-flex"),!v()),V)}),{default:function(){return[P.value==="vertical"&&O?[n("div",{class:"".concat(g,"-item-main"),key:"content"},[k,b]),n("div",{class:"".concat(g,"-item-extra"),key:"extra"},[O])]:[k,b,Ie(O,{key:"extra"})]]}});return _.value?n(Se,{flex:1,style:e.colStyle},{default:function(){return[B]}}):B}}});var Oe=function(){return{bordered:{type:Boolean,default:void 0},dataSource:p.array,extra:p.any,grid:{type:Object,default:void 0},itemLayout:String,loading:{type:[Boolean,Object],default:void 0},loadMore:p.any,pagination:{type:[Boolean,Object],default:void 0},prefixCls:String,rowKey:[String,Number,Function],renderItem:Function,size:String,split:{type:Boolean,default:void 0},header:p.any,footer:p.any,locale:{type:Object}}},j=q({name:"AList",Item:Ee,props:pe(Oe(),{dataSource:[],bordered:!1,split:!0,loading:!1,pagination:!1}),slots:["extra","loadMore","renderItem","header","footer"],setup:function(e,h){var t=h.slots,c,f;ge(le,{grid:te(e,"grid"),itemLayout:te(e,"itemLayout")});var P={current:1,total:0},_=J("list",e),i=_.prefixCls,M=_.direction,E=_.renderEmpty,v=L(function(){return e.pagination&&ae(e.pagination)==="object"?e.pagination:{}}),m=D((c=v.value.defaultCurrent)!==null&&c!==void 0?c:1),r=D((f=v.value.defaultPageSize)!==null&&f!==void 0?f:10);ye(v,function(){"current"in v.value&&(m.value=v.value.current),"pageSize"in v.value&&(r.value=v.value.pageSize)});var u=[],s=function(l){return function(d,x){m.value=d,r.value=x,v.value[l]&&v.value[l](d,x)}},S=s("onChange"),V=s("onShowSizeChange"),G=function(l){var d;return n("div",{class:"".concat(i.value,"-empty-text")},[((d=e.locale)===null||d===void 0?void 0:d.emptyText)||l("List")])},g=L(function(){return typeof e.loading=="boolean"?{spinning:e.loading}:e.loading}),O=L(function(){return g.value&&g.value.spinning}),k=L(function(){var a="";switch(e.size){case"large":a="lg";break;case"small":a="sm";break}return a}),y=L(function(){var a;return a={},I(a,"".concat(i.value),!0),I(a,"".concat(i.value,"-vertical"),e.itemLayout==="vertical"),I(a,"".concat(i.value,"-").concat(k.value),k.value),I(a,"".concat(i.value,"-split"),e.split),I(a,"".concat(i.value,"-bordered"),e.bordered),I(a,"".concat(i.value,"-loading"),O.value),I(a,"".concat(i.value,"-grid"),!!e.grid),I(a,"".concat(i.value,"-rtl"),M.value==="rtl"),a}),b=L(function(){var a=N(N(N({},P),{total:e.dataSource.length,current:m.value,pageSize:r.value}),e.pagination||{}),l=Math.ceil(a.total/a.pageSize);return a.current>l&&(a.current=l),a}),K=L(function(){var a=ne(e.dataSource);return e.pagination&&e.dataSource.length>(b.value.current-1)*b.value.pageSize&&(a=ne(e.dataSource).splice((b.value.current-1)*b.value.pageSize,b.value.pageSize)),a}),B=xe(),A=Ce(function(){for(var a=0;a<ie.length;a+=1){var l=ie[a];if(B.value[l])return l}}),F=L(function(){if(!!e.grid){var a=A.value&&e.grid[A.value]?e.grid[A.value]:e.grid.column;if(a)return{width:"".concat(100/a,"%"),maxWidth:"".concat(100/a,"%")}}}),oe=function(l,d){var x,z=(x=e.renderItem)!==null&&x!==void 0?x:t.renderItem;if(!z)return null;var C,w=ae(e.rowKey);return w==="function"?C=e.rowKey(l):w==="string"||w==="number"?C=l[e.rowKey]:C=l.key,C||(C="list-item-".concat(d)),u[d]=C,z({item:l,index:d})};return function(){var a,l,d,x,z,C,w,Q=(a=e.loadMore)!==null&&a!==void 0?a:(l=t.loadMore)===null||l===void 0?void 0:l.call(t),W=(d=e.footer)!==null&&d!==void 0?d:(x=t.footer)===null||x===void 0?void 0:x.call(t),U=(z=e.header)!==null&&z!==void 0?z:(C=t.header)===null||C===void 0?void 0:C.call(t),X=re((w=t.default)===null||w===void 0?void 0:w.call(t)),ue=!!(Q||e.pagination||W),ce=N(N({},y.value),I({},"".concat(i.value,"-something-after-last-item"),ue)),Y=e.pagination?n("div",{class:"".concat(i.value,"-pagination")},[n(he,H(H({},b.value),{},{onChange:S,onShowSizeChange:V}),null)]):null,Z=O.value&&n("div",{style:{minHeight:"53px"}},null);if(K.value.length>0){u.length=0;var ee=K.value.map(function(T,$){return oe(T,$)}),ve=ee.map(function(T,$){return n("div",{key:u[$],style:F.value},[T])});Z=e.grid?n(be,{gutter:e.grid.gutter},{default:function(){return[ve]}}):n("ul",{class:"".concat(i.value,"-items")},[ee])}else!X.length&&!O.value&&(Z=G(E.value));var R=b.value.position||"bottom";return n("div",{class:ce},[(R==="top"||R==="both")&&Y,U&&n("div",{class:"".concat(i.value,"-header")},[U]),n(_e,g.value,{default:function(){return[Z,X]}}),W&&n("div",{class:"".concat(i.value,"-footer")},[W]),Q||(R==="bottom"||R==="both")&&Y])}}});j.install=function(o){return o.component(j.name,j),o.component(j.Item.name,j.Item),o.component(j.Item.Meta.name,j.Item.Meta),o};const Ne=j;export{Ee as L,Ne as a};
