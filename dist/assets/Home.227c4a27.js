import{c as s,A as w,h as H,af as F,u as x,ag as b,I as q,o as l,b as f,d as p,Z as y,ah as A,ai as G,f as S,aj as P,e as r,ak as J,al as N,a as R,am as v,w as u,m as W,p as X,g as Y,an as M,ao as K,n as ee,ap as te}from"./index.55cf085f.js";import{q as ae,b as ne,u as oe,U as re,c as se,a as le}from"./logo.a4f3c27e.js";import{g as C}from"./treeData.11936c29.js";import{_ as T}from"./_plugin-vue_export-helper.cdc0426e.js";import{B as U,a as ce,A as ie}from"./index.90a5b505.js";import"./request.e95454fd.js";import{M as O,D as ue,S as de,a as pe}from"./index.f2b29a9c.js";import{S as fe}from"./index.51820f5b.js";import{F as _e}from"./FilterFilled.810f0803.js";import"./index.b1924724.js";import{M as me}from"./Modal.cd6a7cf2.js";import"./shallowequal.9bf93796.js";import"./useFlexGapSupport.ab34fae3.js";import"./useDestroyed.6570a5e8.js";import"./pickAttrs.c337f33a.js";var ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M744 62H280c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h464c35.3 0 64-28.7 64-64V126c0-35.3-28.7-64-64-64zM512 824c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40z"}}]},name:"mobile",theme:"filled"};const he=ve;function D(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable}))),n.forEach(function(o){ge(e,o,a[o])})}return e}function ge(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var j=function(t,a){var n=D({},t,a.attrs);return s(w,D({},n,{icon:he}),null)};j.displayName="MobileFilled";j.inheritAttrs=!1;const be=j;var ye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M705.6 124.9a8 8 0 00-11.6 7.2v64.2c0 5.5 2.9 10.6 7.5 13.6a352.2 352.2 0 0162.2 49.8c32.7 32.8 58.4 70.9 76.3 113.3a355 355 0 0127.9 138.7c0 48.1-9.4 94.8-27.9 138.7a355.92 355.92 0 01-76.3 113.3 353.06 353.06 0 01-113.2 76.4c-43.8 18.6-90.5 28-138.5 28s-94.7-9.4-138.5-28a353.06 353.06 0 01-113.2-76.4A355.92 355.92 0 01184 650.4a355 355 0 01-27.9-138.7c0-48.1 9.4-94.8 27.9-138.7 17.9-42.4 43.6-80.5 76.3-113.3 19-19 39.8-35.6 62.2-49.8 4.7-2.9 7.5-8.1 7.5-13.6V132c0-6-6.3-9.8-11.6-7.2C178.5 195.2 82 339.3 80 506.3 77.2 745.1 272.5 943.5 511.2 944c239 .5 432.8-193.3 432.8-432.4 0-169.2-97-315.7-238.4-386.7zM480 560h64c4.4 0 8-3.6 8-8V88c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v464c0 4.4 3.6 8 8 8z"}}]},name:"poweroff",theme:"outlined"};const Oe=ye;function L(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable}))),n.forEach(function(o){Se(e,o,a[o])})}return e}function Se(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var I=function(t,a){var n=L({},t,a.attrs);return s(w,L({},n,{icon:Oe}),null)};I.displayName="PoweroffOutlined";I.inheritAttrs=!1;const we=I;var Ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512.5 390.6c-29.9 0-57.9 11.6-79.1 32.8-21.1 21.2-32.8 49.2-32.8 79.1 0 29.9 11.7 57.9 32.8 79.1 21.2 21.1 49.2 32.8 79.1 32.8 29.9 0 57.9-11.7 79.1-32.8 21.1-21.2 32.8-49.2 32.8-79.1 0-29.9-11.7-57.9-32.8-79.1a110.96 110.96 0 00-79.1-32.8zm412.3 235.5l-65.4-55.9c3.1-19 4.7-38.4 4.7-57.7s-1.6-38.8-4.7-57.7l65.4-55.9a32.03 32.03 0 009.3-35.2l-.9-2.6a442.5 442.5 0 00-79.6-137.7l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.2 28.9c-30-24.6-63.4-44-99.6-57.5l-15.7-84.9a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52-9.4-106.8-9.4-158.8 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.3a353.44 353.44 0 00-98.9 57.3l-81.8-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a445.93 445.93 0 00-79.6 137.7l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.2 56.5c-3.1 18.8-4.6 38-4.6 57 0 19.2 1.5 38.4 4.6 57l-66 56.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.3 44.8 96.8 79.6 137.7l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.8-29.1c29.8 24.5 63 43.9 98.9 57.3l15.8 85.3a32.05 32.05 0 0025.8 25.7l2.7.5a448.27 448.27 0 00158.8 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-84.9c36.2-13.6 69.6-32.9 99.6-57.5l81.2 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.5-87.4 79.6-137.7l.9-2.6c4.3-12.4.6-26.3-9.5-35zm-412.3 52.2c-97.1 0-175.8-78.7-175.8-175.8s78.7-175.8 175.8-175.8 175.8 78.7 175.8 175.8-78.7 175.8-175.8 175.8z"}}]},name:"setting",theme:"filled"};const Pe=Ae;function E(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable}))),n.forEach(function(o){$e(e,o,a[o])})}return e}function $e(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var B=function(t,a){var n=E({},t,a.attrs);return s(w,E({},n,{icon:Pe}),null)};B.displayName="SettingFilled";B.inheritAttrs=!1;const ke=B;var Ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M865.3 244.7c-.3-.3-61.1 59.8-182.1 180.6l-84.9-84.9 180.9-180.9c-95.2-57.3-217.5-42.6-296.8 36.7A244.42 244.42 0 00419 432l1.8 6.7-283.5 283.4c-6.2 6.2-6.2 16.4 0 22.6l141.4 141.4c6.2 6.2 16.4 6.2 22.6 0l283.3-283.3 6.7 1.8c83.7 22.3 173.6-.9 236-63.3 79.4-79.3 94.1-201.6 38-296.6z"}}]},name:"tool",theme:"filled"};const Fe=Ne;function V(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable}))),n.forEach(function(o){xe(e,o,a[o])})}return e}function xe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var z=function(t,a){var n=V({},t,a.attrs);return s(w,V({},n,{icon:Fe}),null)};z.displayName="ToolFilled";z.inheritAttrs=!1;const Me=z,Q=H("account",{state:()=>({curUser:{}}),actions:{async doQueryCurUser(){try{const e=await ae();this.curUser=e}catch(e){throw e}}}}),$=H("appNav",{state:()=>({navs:[],navLoading:!1}),actions:{async doQueryNavs(){this.navLoading=!0;try{const e=await ne();this.navLoading=!1,this.navs=e}catch(e){throw this.navLoading=!1,e}}}});const Ce={class:"app-tab-nav"},Te={class:"tab-list"},je=["onClick"],Ie=["onClick"],Be={__name:"AppTabNav",setup(e){const t=F(),a=x(),n=oe(),o=$(),{tabs:c}=b(n),{navs:_}=b(o);q(()=>{const i=t.path,k=c.value.findIndex(m=>m.path===i);if(k<0){const m=C(i,_.value,[],"path");if(m){const g=m[m.length-1];n.addTab({...g,title:g.name})}}else n.changeTab(k)});const d=i=>{a.push(i.path)},h=i=>{c.value[i].isActive&&(i===c.value.length-1?a.push(c.value[i-1].path):a.push(c.value[i+1].path)),setTimeout(()=>{n.removeTab(i)})};return(i,k)=>(l(),f("div",Ce,[p("div",Te,[(l(!0),f(y,null,A(r(c),(m,g)=>(l(),f("div",{class:G(["tab-item",{active:m.isActive}]),key:g,onClick:Z=>d(m)},[S(P(m.title)+" ",1),r(c).length>1?(l(),f("div",{key:0,class:"close",onClick:J(Z=>h(g),["stop"])},null,8,Ie)):N("",!0)],10,je))),128))])]))}},ze=T(Be,[["__scopeId","data-v-9e2ff027"]]),Ue={__name:"AppCrumb",setup(e){const t=F(),a=$(),{navs:n}=b(a),o=R([]);return q(()=>{const c=t.path,_=C(c,n.value,[],"path");_?o.value=_:o.value=[]}),(c,_)=>(l(),v(r(ce),null,{default:u(()=>[s(r(U),null,{default:u(()=>[S("Home")]),_:1}),(l(!0),f(y,null,A(o.value,d=>(l(),v(r(U),{key:d.path},{default:u(()=>[S(P(d.name),1)]),_:2},1024))),128))]),_:1}))}};const De=e=>(X("data-v-455d94d1"),e=e(),Y(),e),Le={class:"app-head-bar"},Ee={class:"fl"},Ve={class:"fr"},He=De(()=>p("span",{class:"m-txt"},"exit",-1)),qe={class:"head-btn"},Re={__name:"AppHeadBar",setup(e){const t=Q(),{curUser:a}=b(t),n=x(),o=({key:c})=>{c==="logout"&&me.confirm({title:"Are you sure you want to exit?",onOk:async()=>{const d={auth_token:localStorage.getItem("token")};await se(d),W.success("Exit successful!"),n.push("/login"),localStorage.clear()}})};return(c,_)=>(l(),f("div",Le,[p("div",Ee,[s(Ue)]),p("div",Ve,[s(r(ue),{placement:"bottomRight"},{overlay:u(()=>[s(r(O),{onClick:o},{default:u(()=>[s(r(O).Divider),s(r(O).Item,{key:"logout"},{default:u(()=>[s(r(we)),He]),_:1})]),_:1})]),default:u(()=>[p("div",qe,[s(r(fe),null,{default:u(()=>[s(r(ie),{style:{"background-color":"var(--pColor)"}},{default:u(()=>[s(r(re))]),_:1}),p("span",null,P(r(a).name),1)]),_:1})])]),_:1})])]))}},Qe=T(Re,[["__scopeId","data-v-455d94d1"]]);const Ze={__name:"AppNavItem",props:{level:{type:Number,default:0},data:{type:Object,required:!0}},setup(e){return(t,a)=>{const n=M("AppNavItem",!0);return l(),f(y,null,[e.data.children&&e.data.children.length>0?(l(),v(r(de),{key:e.data.path,title:e.data.name},K({default:u(()=>[(l(!0),f(y,null,A(e.data.children,o=>(l(),v(n,{key:o.path,data:o,level:e.level+1},null,8,["data","level"]))),128))]),_:2},[e.data.path==="/equipment"?{name:"icon",fn:u(()=>[s(r(Me))]),key:"0"}:void 0,e.data.path==="/client"?{name:"icon",fn:u(()=>[s(r(be))]),key:"1"}:void 0,e.data.path==="/admin"?{name:"icon",fn:u(()=>[s(r(ke))]),key:"2"}:void 0,e.data.path==="/valve"?{name:"icon",fn:u(()=>[s(r(_e))]),key:"3"}:void 0]),1032,["title"])):N("",!0),!e.data.children||e.data.children.length===0?(l(),v(r(pe),{key:e.data.path},{default:u(()=>[S(P(e.data.name),1)]),_:1})):N("",!0)],64)}}},Ge={__name:"AppNav",setup(e){const t=R([]),a=x(),n=F(),o=$(),{navs:c}=b(o);ee(c,d=>{if(d.length){const h=C(n.path,d,[],"path");t.value=h?h.map(i=>i.path):[]}});const _=d=>{a.push(d.key)};return(d,h)=>(l(),v(r(O),{mode:"inline",activeKey:r(n).path,"selected-keys":[r(n).path],openKeys:t.value,"onUpdate:openKeys":h[0]||(h[0]=i=>t.value=i),onClick:_},{default:u(()=>[(l(!0),f(y,null,A(r(c),i=>(l(),v(Ze,{key:i.path,data:i},null,8,["data"]))),128))]),_:1},8,["activeKey","selected-keys","openKeys"]))}};const Je={class:"app-wrap"},We={class:"app-side shadow"},Xe={class:"app-logo"},Ye=["src"],Ke={class:"app-content"},et={class:"app-head shadow"},tt={class:"app-main"},at={__name:"AppLayout",setup(e){return(t,a)=>{const n=M("router-view");return l(),f("div",Je,[p("div",We,[p("div",Xe,[p("img",{src:r(le),alt:"",height:"70"},null,8,Ye)]),s(Ge)]),p("div",Ke,[p("div",et,[s(ze),s(Qe)]),p("div",tt,[s(n)])])])}}},nt=T(at,[["__scopeId","data-v-26551df8"]]),bt={__name:"Home",setup(e){Q();const t=$();return(async()=>{await t.doQueryNavs()})(),(n,o)=>{const c=M("router-view");return l(),v(nt,null,{default:u(()=>[(l(),v(te,null,[s(c)],1024))]),_:1})}}};export{bt as default};
