import{r as u}from"./request.2288667a.js";import{h as R}from"./moment.9709ab41.js";import{u as q}from"./usePagingList.e08fdc37.js";import{u as F,_ as $,T as g}from"./ComSchemaForm.43d10280.js";import{x as Q,o as i,b as v,d as s,c as t,e,w as o,f as r,ao as _,F as U,an as K}from"./index.e783c946.js";import{P as W}from"./index.5083c87b.js";import{P as j}from"./Card.531c7c8f.js";import{B as m}from"./styleChecker.df42cde5.js";import{a as G}from"./index.30480f03.js";import{S as J}from"./index.c47d3d19.js";import{T as X}from"./index.c901d8bd.js";import{P as Z}from"./index.8ff1420b.js";import"./index.33f30a55.js";import"./Modal.b014ebc0.js";import"./index.9641cdf4.js";import"./useDestroyed.4dcf2a17.js";import"./debounce.81a4c1ce.js";import"./isSymbol.7e901a66.js";import"./treeData.11936c29.js";/* empty css                                                                   */import"./_plugin-vue_export-helper.cdc0426e.js";import"./useState.656607d1.js";import"./index.794e3fba.js";import"./Col.40afaf57.js";import"./useFlexGapSupport.361aa632.js";import"./station.22a425f9.js";import"./index.d80e0f98.js";import"./FilterFilled.314139b3.js";const p="/server/operators_info_new/",ee=a=>u({method:"GET",url:p,params:a}),ae=a=>u({method:"POST",url:p,data:a}),te=a=>u({method:"PUT",url:p+a.operators_id+"/",data:a}),y=a=>u({method:"DELETE",url:p+a+"/",data:{id:a}}),se=async a=>{for(let c of a)await y(c)},oe={class:"page-wrap"},le={class:"page-head"},re={class:"page-head"},ne={class:"fl"},ie={class:"fr"},de={class:"page-body"},me={class:"page-foot"},ue={class:"fl"},pe={class:"fr"},Fe={__name:"Admin",setup(a){const{listData:c,loading:k,total:C,page:w,size:S,selectedKeys:f,queryValues:ce,handleChangeSelect:P,handleChangeQueryValues:x,handleChangePage:A,handleChangeSize:D,handleRefresh:I,handleDelete:O,handleDeleteList:T,doQueryList:_e}=q({pk:"operators_id",queryListAction:ee,deleteOneAction:y,deleteListAction:se}),{formTitle:Y,formVisible:L,formValues:h,handleCreate:H,handleModify:M,handleCancel:V,handleSubmit:N}=F({pk:"operators_id",createOneAction:ae,modifyOneAction:te,editSuccessCallback:I}),E=Q(()=>{let n=[{name:"user_id_fk",label:"Username",names:"username"},{name:"user_id_fk",label:"Password",type:"password",names:"password"},{name:"user_id_fk",label:"Last login",type:"date",names:"last_login",inputProps:{format:"YYYY-MM-DD HH:mm:ss","show-time":"{ format: 'HH:mm' }",valueFormat:"YYYY-MM-DD HH:mm:ss"}},{name:"user_id_fk",label:"First name",names:"first_name"},{name:"user_id_fk",label:"Last name",names:"last_name"},{name:"user_id_fk",label:"Email address",names:"email"},{name:"user_id_fk",label:"Available",names:"is_active",type:"radio",inputProps:{options:[{value:!0,label:"yes"},{value:!1,label:"no"}]}},{name:"operators_state",label:"States",type:"select",inputProps:{options:[{value:"nsw",label:"NSW"},{value:"tas",label:"TAS"},{value:"qld",label:"QLD"},{value:"vic",label:"VIC"},{value:"wa",label:"WA"},{value:"nt",label:"NT"},{value:"act",label:"ACT"},{value:"as",label:"AS"}]}},{name:"operators_postcode",label:"Postcode"},{name:"user_id_fk",names:"is_superuser",label:"Is it a superuser?",type:"radio",inputProps:{options:[{value:!0,label:"yes"},{value:!1,label:"no"}]}}];return h.value.id&&n.splice(2,2),n}),z=n=>{x({search:n})};return(n,b)=>(i(),v("div",oe,[s("div",le,[t(e(W),{title:"Operators Management"})]),s("div",re,[s("div",ne,[t(e(m),{type:"primary",onClick:b[0]||(b[0]=l=>e(H)("","Add New Operators"))},{default:o(()=>[t(e(j)),r("Add New Operator ")]),_:1})]),s("div",ie,[t(e(G),{type:"text",onSearch:z,allowClear:""})])]),s("div",de,[t(e(X),{"row-key":"id",bordered:"","data-source":e(c),loading:e(k),pagination:!1,columns:[{title:"Operators ID",dataIndex:"operators_id"},{title:"Username",dataIndex:["user_id_fk","username"]},{title:"Registration Datetime",dataIndex:["user_id_fk","date_joined"],customRender:({text:l})=>e(R)(l).utc().format("YYYY-MM-DD HH:mm:ss")},{title:"Registrant",dataIndex:["user_id_fk","first_name"]},{title:"Available",dataIndex:["user_id_fk","is_active"],customRender:({text:l})=>l===!0?"yes":"no"},{title:"Postcode",dataIndex:"operators_postcode"},{title:"States",dataIndex:"operators_state"},{title:"Operate",dataIndex:"action",width:160,align:"center"}],"row-selection":{selectedRowKeys:e(f),onChange:e(P)}},{bodyCell:o(({column:l,record:d})=>[l.dataIndex==="action"?(i(),_(e(J),{key:0},{default:o(()=>[t(e(m),{type:"primary",onClick:B=>e(M)(d)},{default:o(()=>[r("modify")]),_:2},1032,["onClick"]),t(e(m),{type:"primary",danger:"",onClick:B=>e(O)(d)},{default:o(()=>[r("delete")]),_:2},1032,["onClick"])]),_:2},1024)):l.dataIndex==="status"?(i(),v(U,{key:1},[d.status===1?(i(),_(e(g),{key:0,color:"green"},{default:o(()=>[r("\u542F\u7528")]),_:1})):(i(),_(e(g),{key:1},{default:o(()=>[r("\u7981\u7528")]),_:1}))],64)):K("",!0)]),_:1},8,["data-source","loading","columns","row-selection"])]),s("div",me,[s("div",ue,[t(e(m),{danger:"",disabled:e(f).length===0,onClick:e(T)},{default:o(()=>[r("Delete All")]),_:1},8,["disabled","onClick"])]),s("div",pe,[t(e(Z),{current:e(w),"page-size":e(S),total:e(C),onChange:e(A),onShowSizeChange:e(D)},null,8,["current","page-size","total","onChange","onShowSizeChange"])])]),t($,{width:800,visible:e(L),title:e(Y),fields:e(E),values:e(h),onSubmit:e(N),onCancel:e(V)},null,8,["visible","title","fields","values","onSubmit","onCancel"])]))}};export{Fe as default};
