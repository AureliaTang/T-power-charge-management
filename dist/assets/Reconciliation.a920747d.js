import{u as v}from"./usePagingList.7cc5691e.js";import{r as c}from"./request.320a4cb6.js";import{h as x}from"./moment.9709ab41.js";import{a as d,o as l,b as k,d as t,c as o,e,w as i,aH as I,f as D,aG as P,m as z}from"./index.3e073952.js";import{P as B}from"./index.d2d90e7b.js";import{a as T}from"./index.bb6352d4.js";import{B as V}from"./styleChecker.eb92c49d.js";import{S as b}from"./index.650eb3d7.js";import{T as q}from"./index.1881d489.js";import{P as H}from"./index.4e3ab62a.js";import"./index.6751c452.js";import"./Modal.96e6e95e.js";import"./shallowequal.ccea8df8.js";import"./pickAttrs.d6d54610.js";import"./useDestroyed.98bfddca.js";import"./index.da9ad678.js";import"./index.61a2edd1.js";import"./FormItemContext.3f5ce3ea.js";import"./useFlexGapSupport.e5ca3a50.js";import"./useState.2cff5e19.js";import"./FilterFilled.ebb64806.js";import"./index.ba495c24.js";const N="server/statement_info/",Y=n=>c({method:"GET",url:N,params:n}),E=n=>c({method:"GET",url:"server/statement_url/",params:n}),G={class:"page-wrap"},L={class:"page-head"},M={class:"page-head"},A=t("div",{class:"fl"},null,-1),O={class:"fr"},R={class:"page-body"},K={class:"page-foot"},Q=t("div",{class:"fl"},null,-1),$={class:"fr"},Ce={__name:"Reconciliation",setup(n){const{listData:m,loading:p,total:_,page:h,size:u,selectedKeys:j,queryValues:F,handleChangeSelect:J,handleChangeQueryValues:g,handleChangePage:f,handleChangeSize:w}=v({queryListAction:Y});d(!1),d({});const C=a=>{g({search:a})},y=a=>{E({operators_id:a.operators_id_fk,statement_date:a.statement_datetime}).then(r=>{if(r.code==200)return window.location.href=r.pdf_download_url;z.error(r.msg)})};return(a,r)=>(l(),k("div",G,[t("div",L,[o(e(B),{title:"Statement Management"})]),t("div",M,[A,t("div",O,[o(e(T),{type:"text",onSearch:C,allowClear:""})])]),t("div",R,[o(e(q),{"row-key":"id",bordered:"","data-source":e(m),loading:e(p),pagination:!1,columns:[{title:"Statement ID",dataIndex:"statement_id"},{title:"Statement Datetime",dataIndex:"statement_datetime",align:"center",customRender:({text:s})=>e(x)(s).utc().format("YYYY-MM-DD HH:mm:ss")},{title:"Operators",dataIndex:"operators_id_fk",align:"center"},{title:"Amount",dataIndex:"statement_total_price",align:"center"},{title:"Total Capacity",dataIndex:"statement_charge_capacity",width:150,align:"center"},{title:"Operate",dataIndex:"action",width:250,align:"center"}]},{bodyCell:i(({column:s,record:S})=>[s.dataIndex==="action"?(l(),I(e(b),{key:0},{default:i(()=>[o(e(V),{type:"primary",onClick:U=>y(S)},{default:i(()=>[D("Download")]),_:2},1032,["onClick"])]),_:2},1024)):P("",!0)]),_:1},8,["data-source","loading","columns"])]),t("div",K,[Q,t("div",$,[o(e(H),{current:e(h),"page-size":e(u),total:e(_),onChange:e(f),onShowSizeChange:e(w)},null,8,["current","page-size","total","onChange","onShowSizeChange"])])])]))}};export{Ce as default};
