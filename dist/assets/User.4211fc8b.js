import{u as F}from"./usePagingList.7cc5691e.js";import{u as G,_ as K}from"./ComSchemaForm.ddac7487.js";import{r as d}from"./request.320a4cb6.js";import{h as Q}from"./moment.9709ab41.js";import j from"./Vehicle.f3b7fde4.js";import{E as J,a as y,o as _,b as W,d as s,c as a,e,w as o,f as r,aH as b,aG as C}from"./index.3e073952.js";import{P as X}from"./index.d2d90e7b.js";import{P as Z}from"./Card.bc99f03d.js";import{B as n}from"./styleChecker.eb92c49d.js";import{a as ee}from"./index.bb6352d4.js";import{S as ae}from"./index.650eb3d7.js";import{T as te}from"./index.1881d489.js";import{P as se}from"./index.4e3ab62a.js";import{M as oe}from"./Modal.96e6e95e.js";import"./index.6751c452.js";import"./useDestroyed.98bfddca.js";import"./shallowequal.ccea8df8.js";import"./FormItemContext.3f5ce3ea.js";import"./treeData.11936c29.js";import"./index.ba495c24.js";import"./pickAttrs.d6d54610.js";import"./useState.2cff5e19.js";/* empty css                                                                   */import"./_plugin-vue_export-helper.cdc0426e.js";import"./index.61a2edd1.js";import"./index.29c0fa28.js";import"./Form.6fa778b0.js";import"./Col.061c78bf.js";import"./useFlexGapSupport.e5ca3a50.js";import"./station.53f7a1d4.js";import"./dayjs.260c4fea.js";import"./index.da9ad678.js";import"./FilterFilled.ebb64806.js";const p="server/appuser_info/",ie=t=>d({method:"GET",url:p,params:t}),le=t=>d({method:"POST",url:p,data:t}),re=t=>d({method:"PUT",url:p+t.appuser_id+"/",data:t}),k=t=>d({method:"DELETE",url:p+t+"/"}),ne=async t=>{for(let m of t)await k(m)},de={class:"page-wrap"},pe={class:"page-head"},me={class:"page-head"},ce={class:"fl"},ue={class:"fr"},he={class:"page-body"},_e={class:"page-foot"},fe={class:"fl"},ge={class:"fr"},Ze={__name:"User",setup(t){const m=J(()=>[{name:"appuser_username",label:"Username"},{name:"appuser_password",label:"Password",type:"password"},{name:"appuser_firstname",label:"First Name"},{name:"appuser_lastname",label:"Last Name"},{name:"appuser_phone_no",label:"Phone Number"},{name:"appuser_email",label:"Email"},{name:"is_active",label:"Is it available?",type:"radio",inputProps:{options:[{value:"1",label:"yes"},{value:"0",label:"no"}]}},{name:"last_login",label:"Registration Datetime",type:"date"}]),{listData:w,loading:S,total:x,page:P,size:I,selectedKeys:f,queryValues:ve,handleChangeSelect:N,handleChangeQueryValues:A,handleChangePage:D,handleChangeSize:V,handleRefresh:ye,handleDelete:E,handleDeleteList:L,doQueryList:O}=F({queryListAction:ie,deleteOneAction:k,pk:"appuser_id",deleteListAction:ne}),{formTitle:U,formVisible:T,formValues:M,handleCreate:z,handleModify:B,handleCancel:$,handleSubmit:H}=G({createOneAction:le,modifyOneAction:re,editSuccessCallback:O,pk:"appuser_id"}),c=y(!1),u=y({}),R=i=>{c.value=!0,u.value=i},q=i=>{c.value=!1,u.value={}},Y=i=>{A({search:i})};return(i,g)=>(_(),W("div",de,[s("div",pe,[a(e(X),{title:"App User Management"})]),s("div",me,[s("div",ce,[a(e(n),{type:"primary",onClick:g[0]||(g[0]=l=>e(z)("","Add New App User"))},{default:o(()=>[a(e(Z)),r("Add New User ")]),_:1})]),s("div",ue,[a(e(ee),{type:"text",onSearch:Y,allowClear:""})])]),s("div",he,[a(e(te),{"row-key":"appuser_id",bordered:"","data-source":e(w),loading:e(S),pagination:!1,columns:[{title:"User ID",dataIndex:"appuser_id"},{title:"Username",dataIndex:"appuser_username"},{title:"First Name",dataIndex:"appuser_firstname"},{title:"Last Name",dataIndex:"appuser_lastname"},{title:"Email",dataIndex:"appuser_email"},{title:"Phone Number",dataIndex:"appuser_phone_no"},{title:"Postcode",dataIndex:"appuser_postcode"},{title:"Available",dataIndex:"appuser_isactive"},{title:"Registration Datetime",dataIndex:"register_datetime",customRender:({text:l})=>l?e(Q)(l).utc().format("YYYY-MM-DD HH:mm:ss"):"-"},{title:"Operate",dataIndex:"action",width:250,align:"center"}],"row-selection":{selectedRowKeys:e(f),onChange:e(N)}},{bodyCell:o(({column:l,record:h})=>[l.key==="verhicle"?(_(),b(e(n),{key:0,type:"primary",ghost:"",onClick:v=>R(h)},{default:o(()=>[r("\u67E5\u770B\u8F66\u8F86")]),_:2},1032,["onClick"])):C("",!0),l.dataIndex==="action"?(_(),b(e(ae),{key:1},{default:o(()=>[a(e(n),{type:"primary",onClick:v=>e(B)(h)},{default:o(()=>[r("modify")]),_:2},1032,["onClick"]),a(e(n),{type:"primary",danger:"",onClick:v=>e(E)(h)},{default:o(()=>[r("delete")]),_:2},1032,["onClick"])]),_:2},1024)):C("",!0)]),_:1},8,["data-source","loading","columns","row-selection"])]),s("div",_e,[s("div",fe,[a(e(n),{danger:"",disabled:e(f).length===0,onClick:e(L)},{default:o(()=>[r("Delete All")]),_:1},8,["disabled","onClick"])]),s("div",ge,[a(e(se),{current:e(P),"page-size":e(I),total:e(x),onChange:e(D),onShowSizeChange:e(V)},null,8,["current","page-size","total","onChange","onShowSizeChange"])])]),a(e(oe),{title:"\u67E5\u770B\u7528\u6237\u8F66\u8F86",visible:c.value,"mask-closable":!1,keyboard:!1,width:"960px",footer:null,onCancel:q},{default:o(()=>[a(j,{"user-id":u.value.id},null,8,["user-id"])]),_:1},8,["visible"]),a(K,{width:800,visible:e(T),title:e(U),fields:e(m),values:e(M),onSubmit:e(H),onCancel:e($)},null,8,["visible","title","fields","values","onSubmit","onCancel"])]))}};export{Ze as default};
