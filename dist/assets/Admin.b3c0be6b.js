import{r as u}from"./request.6f3b4563.js";import{h as R}from"./moment.a565bb48.js";import{u as q}from"./usePagingList.9a7b4e70.js";import{u as F,_ as $}from"./ComSchemaForm.0de9ae75.js";import{T as g}from"./dayjs.90cff45e.js";import{E as Q,o as n,b as v,d as s,c as t,e,w as o,f as l,aH as _,J as U,aG as G}from"./index.8245d607.js";import{P as K}from"./index.394aeaf5.js";import{P as W}from"./Card.8f21f15a.js";import{B as m}from"./styleChecker.8bde6f41.js";import{a as j}from"./index.9646f4d7.js";import{S as J}from"./index.ca990b0f.js";import{T as X}from"./index.8ceafe38.js";import{P as Z}from"./index.80f71a17.js";import"./index.654f18af.js";import"./Modal.0a8a4a29.js";import"./shallowequal.bae49919.js";import"./pickAttrs.3d8e67f0.js";import"./useDestroyed.e86faf5c.js";import"./FormItemContext.dcded345.js";import"./treeData.11936c29.js";import"./index.0090ea2e.js";import"./useState.9f20a74d.js";/* empty css                                                                   */import"./_plugin-vue_export-helper.cdc0426e.js";import"./index.c73c8db1.js";import"./index.f2af2a88.js";import"./Form.aea68981.js";import"./Col.49051607.js";import"./useFlexGapSupport.d12f7660.js";import"./station.62975caf.js";import"./index.37a241c6.js";import"./FilterFilled.98325481.js";const p="/server/operators_info_new/",ee=a=>u({method:"GET",url:p,params:a}),ae=a=>u({method:"POST",url:p,data:a}),te=a=>u({method:"PUT",url:p+a.operators_id+"/",data:a}),y=a=>u({method:"DELETE",url:p+a+"/",data:{id:a}}),se=async a=>{for(let c of a)await y(c)},oe={class:"page-wrap"},re={class:"page-head"},le={class:"page-head"},ie={class:"fl"},ne={class:"fr"},de={class:"page-body"},me={class:"page-foot"},ue={class:"fl"},pe={class:"fr"},Ge={__name:"Admin",setup(a){const{listData:c,loading:k,total:C,page:w,size:S,selectedKeys:f,queryValues:ce,handleChangeSelect:P,handleChangeQueryValues:x,handleChangePage:A,handleChangeSize:D,handleRefresh:I,handleDelete:O,handleDeleteList:T,doQueryList:_e}=q({pk:"operators_id",queryListAction:ee,deleteOneAction:y,deleteListAction:se}),{formTitle:Y,formVisible:H,formValues:h,handleCreate:L,handleModify:M,handleCancel:V,handleSubmit:E}=F({pk:"operators_id",createOneAction:ae,modifyOneAction:te,editSuccessCallback:I}),N=Q(()=>{let i=[{name:"user_id_fk",label:"Username",names:"username"},{name:"user_id_fk",label:"Password",type:"password",names:"password"},{name:"user_id_fk",label:"Last login",type:"date",names:"last_login",inputProps:{format:"YYYY-MM-DD HH:mm:ss","show-time":"{ format: 'HH:mm' }",valueFormat:"YYYY-MM-DD HH:mm:ss"}},{name:"user_id_fk",label:"First name",names:"first_name"},{name:"user_id_fk",label:"Last name",names:"last_name"},{name:"user_id_fk",label:"Email address",names:"email"},{name:"user_id_fk",label:"Available",names:"is_active",type:"radio",inputProps:{options:[{value:!0,label:"yes"},{value:!1,label:"no"}]}},{name:"operators_state",label:"States",type:"select",inputProps:{options:[{value:"nsw",label:"NSW"},{value:"tas",label:"TAS"},{value:"qld",label:"QLD"},{value:"vic",label:"VIC"},{value:"wa",label:"WA"},{value:"nt",label:"NT"},{value:"act",label:"ACT"},{value:"as",label:"AS"}]}},{name:"operators_postcode",label:"Postcode"},{name:"user_id_fk",names:"is_superuser",label:"Is it a superuser?",type:"radio",inputProps:{options:[{value:!0,label:"yes"},{value:!1,label:"no"}]}}];return h.value.id&&i.splice(2,2),i}),z=i=>{x({search:i})};return(i,b)=>(n(),v("div",oe,[s("div",re,[t(e(K),{title:"Operators Management"})]),s("div",le,[s("div",ie,[t(e(m),{type:"primary",onClick:b[0]||(b[0]=r=>e(L)("","Add New Operators"))},{default:o(()=>[t(e(W)),l("Add New Operator ")]),_:1})]),s("div",ne,[t(e(j),{type:"text",onSearch:z,allowClear:""})])]),s("div",de,[t(e(X),{"row-key":"id",bordered:"","data-source":e(c),loading:e(k),pagination:!1,columns:[{title:"Operators ID",dataIndex:"operators_id"},{title:"Username",dataIndex:["user_id_fk","username"]},{title:"Registration Datetime",dataIndex:["user_id_fk","date_joined"],customRender:({text:r})=>e(R)(r).utc().format("YYYY-MM-DD HH:mm:ss")},{title:"Registrant",dataIndex:["user_id_fk","first_name"]},{title:"Available",dataIndex:["user_id_fk","is_active"],customRender:({text:r})=>r===!0?"yes":"no"},{title:"Postcode",dataIndex:"operators_postcode"},{title:"States",dataIndex:"operators_state"},{title:"Operate",dataIndex:"action",width:160,align:"center"}],"row-selection":{selectedRowKeys:e(f),onChange:e(P)}},{bodyCell:o(({column:r,record:d})=>[r.dataIndex==="action"?(n(),_(e(J),{key:0},{default:o(()=>[t(e(m),{type:"primary",onClick:B=>e(M)(d)},{default:o(()=>[l("modify")]),_:2},1032,["onClick"]),t(e(m),{type:"primary",danger:"",onClick:B=>e(O)(d)},{default:o(()=>[l("delete")]),_:2},1032,["onClick"])]),_:2},1024)):r.dataIndex==="status"?(n(),v(U,{key:1},[d.status===1?(n(),_(e(g),{key:0,color:"green"},{default:o(()=>[l("\u542F\u7528")]),_:1})):(n(),_(e(g),{key:1},{default:o(()=>[l("\u7981\u7528")]),_:1}))],64)):G("",!0)]),_:1},8,["data-source","loading","columns","row-selection"])]),s("div",me,[s("div",ue,[t(e(m),{danger:"",disabled:e(f).length===0,onClick:e(T)},{default:o(()=>[l("Delete All")]),_:1},8,["disabled","onClick"])]),s("div",pe,[t(e(Z),{current:e(w),"page-size":e(S),total:e(C),onChange:e(A),onShowSizeChange:e(D)},null,8,["current","page-size","total","onChange","onShowSizeChange"])])]),t($,{width:800,visible:e(H),title:e(Y),fields:e(N),values:e(h),onSubmit:e(E),onCancel:e(V)},null,8,["visible","title","fields","values","onSubmit","onCancel"])]))}};export{Ge as default};
