import{a as l,j as g,m as p}from"./index.4357c83e.js";import{M as w}from"./Modal.4d727fed.js";const D=({defaultQueryValues:u={},queryListAction:i,deleteOneAction:d,pk:f="id",isAutoQuery:h=!0}={})=>{const n=l([]),t=l(!1),a=l(u),c=l([]),y=e=>{c.value=e},o=async()=>{t.value=!0;try{const e={...a.value},s=await i(e);t.value=!1,n.value=s}catch(e){throw t.value=!1,e}},r=()=>{o()},m=(e,s=1)=>{s?(a.value=e,r()):(a.value={...a.value,...e},r())},v=e=>{w.confirm({title:"Are you sure to delete it?",onOk:async()=>{try{await d(e[f]),p.success("Successfully deleted!"),o()}catch(s){throw s}}})};return g(()=>{h&&o()}),{listData:n,loading:t,queryValues:a,selectedKeys:c,doQueryList:o,handleChangeSelect:y,handleChangeQueryValues:m,handleDelete:v,handleRefresh:r}};export{D as u};
