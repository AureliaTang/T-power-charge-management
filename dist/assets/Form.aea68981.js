import{_ as Z,l as E,n as Le,q as ae,s as rr,t as nr,v as z,S as ar,x as tr,y as Ne,z as ir,B as lr,C as ur,D as Re,E as V,F as Te,G as or,H as sr,I as ve,c as K,J as me,K as cr,L as G,M as he,N as ke,a as ee,O as le,P as dr,T as fr,Q as vr,R as mr,U as hr,V as gr,W as _e,X as We,Y as pr,Z as fe,$ as br,a0 as Fr,a1 as oe,a2 as re,a3 as Be,a4 as Ce,a5 as He,a6 as yr,a7 as wr,a8 as Pe,a9 as Cr,aa as xr,ab as Vr,ac as kr,e as ie,r as Ir,ad as $r,ae as Pr,af as De,ag as jr,ah as be}from"./index.8245d607.js";import{C as Ke,R as Or}from"./Col.49051607.js";import{_ as Ar,u as Mr}from"./FormItemContext.dcded345.js";import{c as Sr,i as qr,u as Er}from"./styleChecker.8bde6f41.js";function ne(r){return r==null?[]:Array.isArray(r)?r:[r]}function ze(r,e){for(var n=r,a=0;a<e.length;a+=1){if(n==null)return;n=n[e[a]]}return n}function Ue(r,e,n,a){if(!e.length)return n;var t=Ar(e),i=t[0],u=t.slice(1),s;return!r&&typeof i=="number"?s=[]:Array.isArray(r)?s=Z(r):s=E({},r),a&&n===void 0&&u.length===1?delete s[i][u[0]]:s[i]=Ue(s[i],u,n,a),s}function Lr(r,e,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&a&&n===void 0&&!ze(r,e.slice(0,-1))?r:Ue(r,e,n,a)}function xe(r){return ne(r)}function Nr(r,e){var n=ze(r,e);return n}function Rr(r,e,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,t=Lr(r,e,n,a);return t}function Tr(r,e){return r&&r.some(function(n){return Wr(n,e)})}function je(r){return Le(r)==="object"&&r!==null&&Object.getPrototypeOf(r)===Object.prototype}function Ge(r,e){var n=Array.isArray(r)?Z(r):E({},r);return e&&Object.keys(e).forEach(function(a){var t=n[a],i=e[a],u=je(t)&&je(i);n[a]=u?Ge(t,i||{}):i}),n}function _r(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];return n.reduce(function(t,i){return Ge(t,i)},r)}function Oe(r,e){var n={};return e.forEach(function(a){var t=Nr(r,a);n=Rr(n,a,t)}),n}function Wr(r,e){return!r||!e||r.length!==e.length?!1:r.every(function(n,a){return e[a]===n})}var Y="'${name}' is not a valid ${type}",ge={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Y,method:Y,array:Y,object:Y,number:Y,date:Y,boolean:Y,integer:Y,float:Y,regexp:Y,email:Y,url:Y,hex:Y},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},pe=globalThis&&globalThis.__awaiter||function(r,e,n,a){function t(i){return i instanceof n?i:new n(function(u){u(i)})}return new(n||(n=Promise))(function(i,u){function s(g){try{f(a.next(g))}catch(c){u(c)}}function v(g){try{f(a.throw(g))}catch(c){u(c)}}function f(g){g.done?i(g.value):t(g.value).then(s,v)}f((a=a.apply(r,e||[])).next())})},Br=ar;function Hr(r,e){return r.replace(/\$\{\w+\}/g,function(n){var a=n.slice(2,-1);return e[a]})}function Ve(r,e,n,a,t){return pe(this,void 0,void 0,ae.mark(function i(){var u,s,v,f,g,c,y,m;return ae.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return u=E({},n),delete u.ruleIndex,delete u.trigger,s=null,u&&u.type==="array"&&u.defaultField&&(s=u.defaultField,delete u.defaultField),v=new Br(z({},r,[u])),f=_r({},ge,a.validateMessages),v.messages(f),g=[],p.prev=9,p.next=12,Promise.resolve(v.validate(z({},r,e),E({},a)));case 12:p.next=17;break;case 14:p.prev=14,p.t0=p.catch(9),p.t0.errors?g=p.t0.errors.map(function(j,O){var P=j.message;return rr(P)?nr(P,{key:"error_".concat(O)}):P}):(console.error(p.t0),g=[f.default()]);case 17:if(!(!g.length&&s)){p.next=22;break}return p.next=20,Promise.all(e.map(function(j,O){return Ve("".concat(r,".").concat(O),j,s,a,t)}));case 20:return c=p.sent,p.abrupt("return",c.reduce(function(j,O){return[].concat(Z(j),Z(O))},[]));case 22:return y=E(E(E({},n),{name:r,enum:(n.enum||[]).join(", ")}),t),m=g.map(function(j){return typeof j=="string"?Hr(j,y):j}),p.abrupt("return",m);case 25:case"end":return p.stop()}},i,null,[[9,14]])}))}function Xe(r,e,n,a,t,i){var u=this,s=r.join("."),v=n.map(function(c,y){var m=c.validator,x=E(E({},c),{ruleIndex:y});return m&&(x.validator=function(p,j,O){var P=!1,M=function(){for(var k=arguments.length,I=new Array(k),$=0;$<k;$++)I[$]=arguments[$];Promise.resolve().then(function(){P||O.apply(void 0,I)})},o=m(p,j,M);P=o&&typeof o.then=="function"&&typeof o.catch=="function",P&&o.then(function(){O()}).catch(function(b){O(b||" ")})}),x}).sort(function(c,y){var m=c.warningOnly,x=c.ruleIndex,p=y.warningOnly,j=y.ruleIndex;return!!m==!!p?x-j:m?1:-1}),f;if(t===!0)f=new Promise(function(c,y){return pe(u,void 0,void 0,ae.mark(function m(){var x,p,j;return ae.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:x=0;case 1:if(!(x<v.length)){P.next=12;break}return p=v[x],P.next=5,Ve(s,e,p,a,i);case 5:if(j=P.sent,!j.length){P.next=9;break}return y([{errors:j,rule:p}]),P.abrupt("return");case 9:x+=1,P.next=1;break;case 12:c([]);case 13:case"end":return P.stop()}},m)}))});else{var g=v.map(function(c){return Ve(s,e,c,a,i).then(function(y){return{errors:y,rule:c}})});f=(t?Kr(g):Dr(g)).then(function(c){return Promise.reject(c)})}return f.catch(function(c){return c}),f}function Dr(r){return pe(this,void 0,void 0,ae.mark(function e(){return ae.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Promise.all(r).then(function(t){var i,u=(i=[]).concat.apply(i,Z(t));return u}));case 1:case"end":return a.stop()}},e)}))}function Kr(r){return pe(this,void 0,void 0,ae.mark(function e(){var n;return ae.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=0,t.abrupt("return",new Promise(function(i){r.forEach(function(u){u.then(function(s){s.errors.length&&i([s]),n+=1,n===r.length&&i([])})})}));case 2:case"end":return t.stop()}},e)}))}function zr(r){return function(e,n,a){var t=Object(e);if(!tr(e)){var i=Ne(n);e=ir(e),n=function(s){return i(t[s],s,t)}}var u=r(e,n,a);return u>-1?t[i?e[u]:u]:void 0}}var Ur=Math.max;function Gr(r,e,n){var a=r==null?0:r.length;if(!a)return-1;var t=n==null?0:lr(n);return t<0&&(t=Ur(a+t,0)),ur(r,Ne(e),t)}var Xr=zr(Gr);const Yr=Xr;var Ye=Symbol("formContextKey"),Qe=function(e){Te(Ye,e)},Ie=function(){return Re(Ye,{name:V(function(){}),labelAlign:V(function(){return"right"}),vertical:V(function(){return!1}),addField:function(n,a){},removeField:function(n){},model:V(function(){}),rules:V(function(){}),colon:V(function(){}),labelWrap:V(function(){}),labelCol:V(function(){}),requiredMark:V(function(){return!1}),validateTrigger:V(function(){}),onValidate:function(){},validateMessages:V(function(){return ge})})},Ze=Symbol("formItemPrefixContextKey"),Qr=function(e){Te(Ze,e)},Zr=function(){return Re(Ze,{prefixCls:V(function(){return""})})},$e=function(e,n){var a,t=n.slots,i=n.emit,u=n.attrs,s,v,f,g,c,y=E(E({},e),u),m=y.prefixCls,x=y.htmlFor,p=y.labelCol,j=y.labelAlign,O=y.colon,P=y.required,M=y.requiredMark,o=or("Form"),b=sr(o,1),k=b[0],I=(s=e.label)!==null&&s!==void 0?s:(v=t.label)===null||v===void 0?void 0:v.call(t);if(!I)return null;var $=Ie(),w=$.vertical,S=$.labelAlign,T=$.labelCol,_=$.labelWrap,A=$.colon,W=p||(T==null?void 0:T.value)||{},U=j||(S==null?void 0:S.value),L="".concat(m,"-item-label"),F=ve(L,U==="left"&&"".concat(L,"-left"),W.class,z({},"".concat(L,"-wrap"),!!_.value)),h=I,l=O===!0||(A==null?void 0:A.value)!==!1&&O!==!1,d=l&&!w.value;d&&typeof I=="string"&&I.trim()!==""&&(h=I.replace(/[:|ï¼š]\s*$/,"")),h=K(me,null,[h,(f=t.tooltip)===null||f===void 0?void 0:f.call(t,{class:"".concat(m,"-item-tooltip")})]),M==="optional"&&!P&&(h=K(me,null,[h,K("span",{class:"".concat(m,"-item-optional")},[((g=k.value)===null||g===void 0?void 0:g.optional)||((c=cr.Form)===null||c===void 0?void 0:c.optional)])]));var C=ve((a={},z(a,"".concat(m,"-item-required"),P),z(a,"".concat(m,"-item-required-mark-optional"),M==="optional"),z(a,"".concat(m,"-item-no-colon"),!l),a));return K(Ke,G(G({},W),{},{class:F}),{default:function(){return[K("label",{for:x,class:C,title:typeof I=="string"?I:"",onClick:function(B){return i("click",B)}},[h])]}})};$e.displayName="FormItemLabel";$e.inheritAttrs=!1;const Jr=$e,en=he({name:"ErrorList",props:["errors","help","onDomErrorVisibleChange","helpStatus","warnings"],setup:function(e){var n=ke("",e),a=n.prefixCls,t=Zr(),i=t.prefixCls,u=t.status,s=V(function(){return"".concat(i.value,"-item-explain")}),v=V(function(){return!!(e.errors&&e.errors.length)}),f=ee(u.value);return le([v,u],function(){v.value&&(f.value=u.value)}),function(){var g,c,y=Sr("".concat(a.value,"-show-help-item")),m=dr("".concat(a.value,"-show-help-item"),y);return m.class=s.value,!((g=e.errors)===null||g===void 0)&&g.length?K(fr,G(G({},m),{},{tag:"div"}),{default:function(){return[(c=e.errors)===null||c===void 0?void 0:c.map(function(p,j){return K("div",{key:j,role:"alert",class:f.value?"".concat(s.value,"-").concat(f.value):""},[p])})]}}):null}}});var rn={success:vr,warning:mr,error:hr,validating:gr},nn=he({slots:["help","extra","errors"],inheritAttrs:!1,props:["prefixCls","errors","hasFeedback","onDomErrorVisibleChange","wrapperCol","help","extra","status"],setup:function(e,n){var a=n.slots,t=Ie(),i=t.wrapperCol,u=E({},t);return delete u.labelCol,delete u.wrapperCol,Qe(u),Qr({prefixCls:V(function(){return e.prefixCls}),status:V(function(){return e.status})}),function(){var s,v,f,g=e.prefixCls,c=e.wrapperCol,y=e.help,m=y===void 0?(s=a.help)===null||s===void 0?void 0:s.call(a):y,x=e.errors,p=x===void 0?(v=a.errors)===null||v===void 0?void 0:v.call(a):x,j=e.hasFeedback,O=e.status,P=e.extra,M=P===void 0?(f=a.extra)===null||f===void 0?void 0:f.call(a):P,o="".concat(g,"-item"),b=c||(i==null?void 0:i.value)||{},k=ve("".concat(o,"-control"),b.class),I=O&&rn[O];return K(Ke,G(G({},b),{},{class:k}),{default:function(){var w;return K(me,null,[K("div",{class:"".concat(o,"-control-input")},[K("div",{class:"".concat(o,"-control-input-content")},[(w=a.default)===null||w===void 0?void 0:w.call(a)]),j&&I?K("span",{class:"".concat(o,"-children-icon")},[K(I,null,null)]):null]),K(en,{errors:p,help:m,class:"".concat(o,"-explain-connected")},null),M?K("div",{class:"".concat(o,"-extra")},[M]):null])}})}}});const an=nn;function tn(r){var e=_e(r.value.slice()),n=null;return We(function(){clearTimeout(n),n=setTimeout(function(){e.value=r.value},r.value.length?0:10)}),e}oe("success","warning","error","validating","");function Fe(r,e,n){var a=r,t=e,i=0;try{for(var u=t.length;i<u-1&&!(!a&&!n);++i){var s=t[i];if(s in a)a=a[s];else{if(n)throw Error("please transfer a valid name path to form item!");break}}if(n&&!a)throw Error("please transfer a valid name path to form item!")}catch{console.error("please transfer a valid name path to form item!")}return{o:a,k:t[i],v:a?a[t[i]]:void 0}}var ln=function(){return{htmlFor:String,prefixCls:String,label:re.any,help:re.any,extra:re.any,labelCol:{type:Object},wrapperCol:{type:Object},hasFeedback:{type:Boolean,default:!1},colon:{type:Boolean,default:void 0},labelAlign:re.oneOf(oe("left","right")),prop:{type:[String,Number,Array]},name:{type:[String,Number,Array]},rules:[Array,Object],autoLink:{type:Boolean,default:!0},required:{type:Boolean,default:void 0},validateFirst:{type:Boolean,default:void 0},validateStatus:re.oneOf(oe("","success","warning","error","validating")),validateTrigger:{type:[String,Array]},messageVariables:{type:Object},hidden:Boolean,noStyle:Boolean}},un=0,on="form_item";const sn=he({name:"AFormItem",inheritAttrs:!1,__ANT_NEW_FORM_ITEM:!0,props:ln(),slots:["help","label","extra"],setup:function(e,n){var a=n.slots,t=n.attrs,i=n.expose;pr(e.prop===void 0);var u="form-item-".concat(++un),s=ke("form",e),v=s.prefixCls,f=Ie(),g=V(function(){return e.name||e.prop}),c=ee([]),y=ee(!1),m=ee(),x=V(function(){var l=g.value;return xe(l)}),p=V(function(){if(x.value.length){var l=f.name.value,d=x.value.join("_");return l?"".concat(l,"_").concat(d):"".concat(on,"_").concat(d)}else return}),j=function(){var d=f.model.value;if(!(!d||!g.value))return Fe(d,x.value,!0).v},O=V(function(){return j()}),P=ee(fe(O.value)),M=V(function(){var l=e.validateTrigger!==void 0?e.validateTrigger:f.validateTrigger.value;return l=l===void 0?"change":l,ne(l)}),o=V(function(){var l=f.rules.value,d=e.rules,C=e.required!==void 0?{required:!!e.required,trigger:M.value}:[],q=Fe(l,x.value);l=l?q.o[q.k]||q.v:[];var N=[].concat(d||l||[]);return Yr(N,function(B){return B.required})?N:N.concat(C)}),b=V(function(){var l=o.value,d=!1;return l&&l.length&&l.every(function(C){return C.required?(d=!0,!1):!0}),d||e.required}),k=ee();We(function(){k.value=e.validateStatus});var I=V(function(){var l={};return typeof e.label=="string"?l.label=e.label:e.name&&(l.label=String(name)),e.messageVariables&&(l=E(E({},l),e.messageVariables)),l}),$=function(d){if(x.value.length!==0){var C=e.validateFirst,q=C===void 0?!1:C,N=d||{},B=N.triggerName,R=o.value;if(B&&(R=R.filter(function(H){var Q=H.trigger;if(!Q&&!M.value.length)return!0;var X=ne(Q||M.value);return X.includes(B)})),!R.length)return Promise.resolve();var D=Xe(x.value,O.value,R,E({validateMessages:f.validateMessages.value},d),q,I.value);return k.value="validating",c.value=[],D.catch(function(H){return H}).then(function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(k.value==="validating"){var Q=H.filter(function(X){return X&&X.errors.length});k.value=Q.length?"error":"success",c.value=Q.map(function(X){return X.errors}),f.onValidate(g.value,!c.value.length,c.value.length?Ce(c.value[0]):null)}}),D}},w=function(){$({triggerName:"blur"})},S=function(){if(y.value){y.value=!1;return}$({triggerName:"change"})},T=function(){k.value=e.validateStatus,y.value=!1,c.value=[]},_=function(){k.value=e.validateStatus,y.value=!0,c.value=[];var d=f.model.value||{},C=O.value,q=Fe(d,x.value,!0);Array.isArray(C)?q.o[q.k]=[].concat(P.value):q.o[q.k]=P.value,Be(function(){y.value=!1})},A=V(function(){return e.htmlFor===void 0?p.value:e.htmlFor}),W=function(){var d=A.value;if(!(!d||!m.value)){var C=m.value.$el.querySelector('[id="'.concat(d,'"]'));C&&C.focus&&C.focus()}};i({onFieldBlur:w,onFieldChange:S,clearValidate:T,resetField:_}),Mr({id:p,onFieldBlur:function(){e.autoLink&&w()},onFieldChange:function(){e.autoLink&&S()},clearValidate:T},V(function(){return!!(e.autoLink&&f.model.value&&g.value)}));var U=!1;le(g,function(l){l?U||(U=!0,f.addField(u,{fieldValue:O,fieldId:p,fieldName:g,resetField:_,clearValidate:T,namePath:x,validateRules:$,rules:o})):(U=!1,f.removeField(u))},{immediate:!0}),br(function(){f.removeField(u)});var L=tn(c),F=V(function(){return e.validateStatus!==void 0?e.validateStatus:L.value.length?"error":k.value}),h=V(function(){var l;return l={},z(l,"".concat(v.value,"-item"),!0),z(l,"".concat(v.value,"-item-has-feedback"),F.value&&e.hasFeedback),z(l,"".concat(v.value,"-item-has-success"),F.value==="success"),z(l,"".concat(v.value,"-item-has-warning"),F.value==="warning"),z(l,"".concat(v.value,"-item-has-error"),F.value==="error"),z(l,"".concat(v.value,"-item-is-validating"),F.value==="validating"),z(l,"".concat(v.value,"-item-hidden"),e.hidden),l});return function(){var l,d;if(e.noStyle)return(l=a.default)===null||l===void 0?void 0:l.call(a);var C=(d=e.help)!==null&&d!==void 0?d:a.help?Fr(a.help()):null;return K(Or,G(G({},t),{},{class:[h.value,C!=null||L.value.length?"".concat(v.value,"-item-with-help"):"",t.class],key:"row"}),{default:function(){var N,B,R,D;return K(me,null,[K(Jr,G(G({},e),{},{htmlFor:A.value,required:b.value,requiredMark:f.requiredMark.value,prefixCls:v.value,onClick:W,label:(N=e.label)!==null&&N!==void 0?N:(B=a.label)===null||B===void 0?void 0:B.call(a)}),null),K(an,G(G({},e),{},{errors:C!=null?ne(C):L.value,prefixCls:v.value,status:F.value,ref:m,help:C,extra:(R=e.extra)!==null&&R!==void 0?R:(D=a.extra)===null||D===void 0?void 0:D.call(a)}),{default:a.default})])}})}}});function Je(r){var e=!1,n=r.length,a=[];return r.length?new Promise(function(t,i){r.forEach(function(u,s){u.catch(function(v){return e=!0,v}).then(function(v){n-=1,a[s]=v,!(n>0)&&(e&&i(a),t(a))})})}):Promise.resolve([])}function Ae(r){return typeof r=="object"&&r!=null&&r.nodeType===1}function Me(r,e){return(!e||r!=="hidden")&&r!=="visible"&&r!=="clip"}function ye(r,e){if(r.clientHeight<r.scrollHeight||r.clientWidth<r.scrollWidth){var n=getComputedStyle(r,null);return Me(n.overflowY,e)||Me(n.overflowX,e)||function(a){var t=function(i){if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}}(a);return!!t&&(t.clientHeight<a.scrollHeight||t.clientWidth<a.scrollWidth)}(r)}return!1}function de(r,e,n,a,t,i,u,s){return i<r&&u>e||i>r&&u<e?0:i<=r&&s<=n||u>=e&&s>=n?i-r-a:u>e&&s<n||i<r&&s>n?u-e+t:0}var Se=function(r,e){var n=window,a=e.scrollMode,t=e.block,i=e.inline,u=e.boundary,s=e.skipOverflowHiddenElements,v=typeof u=="function"?u:function(ce){return ce!==u};if(!Ae(r))throw new TypeError("Invalid target");for(var f,g,c=document.scrollingElement||document.documentElement,y=[],m=r;Ae(m)&&v(m);){if((m=(g=(f=m).parentElement)==null?f.getRootNode().host||null:g)===c){y.push(m);break}m!=null&&m===document.body&&ye(m)&&!ye(document.documentElement)||m!=null&&ye(m,s)&&y.push(m)}for(var x=n.visualViewport?n.visualViewport.width:innerWidth,p=n.visualViewport?n.visualViewport.height:innerHeight,j=window.scrollX||pageXOffset,O=window.scrollY||pageYOffset,P=r.getBoundingClientRect(),M=P.height,o=P.width,b=P.top,k=P.right,I=P.bottom,$=P.left,w=t==="start"||t==="nearest"?b:t==="end"?I:b+M/2,S=i==="center"?$+o/2:i==="end"?k:$,T=[],_=0;_<y.length;_++){var A=y[_],W=A.getBoundingClientRect(),U=W.height,L=W.width,F=W.top,h=W.right,l=W.bottom,d=W.left;if(a==="if-needed"&&b>=0&&$>=0&&I<=p&&k<=x&&b>=F&&I<=l&&$>=d&&k<=h)return T;var C=getComputedStyle(A),q=parseInt(C.borderLeftWidth,10),N=parseInt(C.borderTopWidth,10),B=parseInt(C.borderRightWidth,10),R=parseInt(C.borderBottomWidth,10),D=0,H=0,Q="offsetWidth"in A?A.offsetWidth-A.clientWidth-q-B:0,X="offsetHeight"in A?A.offsetHeight-A.clientHeight-N-R:0,J="offsetWidth"in A?A.offsetWidth===0?0:L/A.offsetWidth:0,te="offsetHeight"in A?A.offsetHeight===0?0:U/A.offsetHeight:0;if(c===A)D=t==="start"?w:t==="end"?w-p:t==="nearest"?de(O,O+p,p,N,R,O+w,O+w+M,M):w-p/2,H=i==="start"?S:i==="center"?S-x/2:i==="end"?S-x:de(j,j+x,x,q,B,j+S,j+S+o,o),D=Math.max(0,D+O),H=Math.max(0,H+j);else{D=t==="start"?w-F-N:t==="end"?w-l+R+X:t==="nearest"?de(F,l,U,N,R+X,w,w+M,M):w-(F+U/2)+X/2,H=i==="start"?S-d-q:i==="center"?S-(d+L/2)+Q/2:i==="end"?S-h+B+Q:de(d,h,L,q,B+Q,S,S+o,o);var ue=A.scrollLeft,se=A.scrollTop;w+=se-(D=Math.max(0,Math.min(se+D/te,A.scrollHeight-U/te+X))),S+=ue-(H=Math.max(0,Math.min(ue+H/J,A.scrollWidth-L/J+Q)))}T.push({el:A,top:D,left:H})}return T};function er(r){return r===Object(r)&&Object.keys(r).length!==0}function cn(r,e){e===void 0&&(e="auto");var n="scrollBehavior"in document.body.style;r.forEach(function(a){var t=a.el,i=a.top,u=a.left;t.scroll&&n?t.scroll({top:i,left:u,behavior:e}):(t.scrollTop=i,t.scrollLeft=u)})}function dn(r){return r===!1?{block:"end",inline:"nearest"}:er(r)?r:{block:"start",inline:"nearest"}}function fn(r,e){var n=r.isConnected||r.ownerDocument.documentElement.contains(r);if(er(e)&&typeof e.behavior=="function")return e.behavior(n?Se(r,e):[]);if(!!n){var a=dn(e);return cn(Se(r,a),a.behavior)}}var vn=Math.min;function mn(r,e,n){for(var a=n?Cr:xr,t=r[0].length,i=r.length,u=i,s=Array(i),v=1/0,f=[];u--;){var g=r[u];u&&e&&(g=He(g,yr(e))),v=vn(g.length,v),s[u]=!n&&(e||t>=120&&g.length>=120)?new wr(u&&g):void 0}g=r[0];var c=-1,y=s[0];e:for(;++c<t&&f.length<v;){var m=g[c],x=e?e(m):m;if(m=n||m!==0?m:0,!(y?Pe(y,x):a(f,x,n))){for(u=i;--u;){var p=s[u];if(!(p?Pe(p,x):a(r[u],x,n)))continue e}y&&y.push(x),f.push(m)}}return f}function hn(r){return Vr(r)?r:[]}var gn=kr(function(r){var e=He(r,hn);return e.length&&e[0]===r[0]?mn(e):[]});const pn=gn;function qe(r){var e=!1;return r&&r.length&&r.every(function(n){return n.required?(e=!0,!1):!0}),e}function Ee(r){return r==null?[]:Array.isArray(r)?r:[r]}function we(r,e,n){var a=r;e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");for(var t=e.split("."),i=0,u=t.length;i<u-1&&!(!a&&!n);++i){var s=t[i];if(s in a)a=a[s];else{if(n)throw new Error("please transfer a valid name path to validate!");break}}return{o:a,k:t[i],v:a?a[t[i]]:null,isValid:a&&t[i]in a}}function bn(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ee({}),n=arguments.length>2?arguments[2]:void 0,a=fe(ie(r)),t=Ir({}),i=_e([]),u=function(o){E(ie(r),E(E({},fe(a)),o)),Be(function(){Object.keys(t).forEach(function(b){t[b]={autoLink:!1,required:qe(ie(e)[b])}})})},s=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],b=arguments.length>1?arguments[1]:void 0;return b.length?o.filter(function(k){var I=Ee(k.trigger||"change");return pn(I,b).length}):o},v=null,f=function(o){for(var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=arguments.length>2?arguments[2]:void 0,I=[],$={},w=function(U){var L=o[U],F=we(ie(r),L,k);if(!F.isValid)return"continue";$[L]=F.v;var h=s(ie(e)[L],Ee(b&&b.trigger));h.length&&I.push(g(L,F.v,h,b||{}).then(function(){return{name:L,errors:[],warnings:[]}}).catch(function(l){var d=[],C=[];return l.forEach(function(q){var N=q.rule.warningOnly,B=q.errors;N?C.push.apply(C,Z(B)):d.push.apply(d,Z(B))}),d.length?Promise.reject({name:L,errors:d,warnings:C}):{name:L,errors:d,warnings:C}}))},S=0;S<o.length;S++)var T=w(S);var _=Je(I);v=_;var A=_.then(function(){return v===_?Promise.resolve($):Promise.reject([])}).catch(function(W){var U=W.filter(function(L){return L&&L.errors.length});return Promise.reject({values:$,errorFields:U,outOfDate:v!==_})});return A.catch(function(W){return W}),A},g=function(o,b,k){var I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},$=Xe([o],b,k,E({validateMessages:ge},I),!!I.validateFirst);return t[o]?(t[o].validateStatus="validating",$.catch(function(w){return w}).then(function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],S;if(t[o].validateStatus==="validating"){var T=w.filter(function(_){return _&&_.errors.length});t[o].validateStatus=T.length?"error":"success",t[o].help=T.length?T.map(function(_){return _.errors}):null,(S=n==null?void 0:n.onValidate)===null||S===void 0||S.call(n,o,!T.length,T.length?Ce(t[o].help[0]):null)}}),$):$.catch(function(w){return w})},c=function(o,b){var k=[],I=!0;o?Array.isArray(o)?k=o:k=[o]:(I=!1,k=i.value);var $=f(k,b||{},I);return $.catch(function(w){return w}),$},y=function(o){var b=[];o?Array.isArray(o)?b=o:b=[o]:b=i.value,b.forEach(function(k){t[k]&&E(t[k],{validateStatus:"",help:null})})},m=function(o){for(var b={autoLink:!1},k=[],I=Array.isArray(o)?o:[o],$=0;$<I.length;$++){var w=I[$];(w==null?void 0:w.validateStatus)==="error"&&(b.validateStatus="error",w.help&&k.push(w.help)),b.required=b.required||(w==null?void 0:w.required)}return b.help=k,b},x=a,p=!0,j=function(o){var b=[];i.value.forEach(function(k){var I=we(o,k,!1),$=we(x,k,!1),w=p&&(n==null?void 0:n.immediate)&&I.isValid;(w||!De(I.v,$.v))&&b.push(k)}),c(b,{trigger:"change"}),p=!1,x=fe(Ce(o))},O=n==null?void 0:n.debounce,P=!0;return le(e,function(){i.value=e?Object.keys(ie(e)):[],!P&&n&&n.validateOnRuleChange&&c(),P=!1},{deep:!0,immediate:!0}),le(i,function(){var M={};i.value.forEach(function(b){M[b]=E({},t[b],{autoLink:!1,required:qe(ie(e)[b])}),delete t[b]});for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&delete t[o];E(t,M)},{immediate:!0}),le(r,O&&O.wait?$r(j,O.wait,Pr(O,["wait"])):j,{immediate:n&&!!n.immediate,deep:!0}),{modelRef:r,rulesRef:e,initialModel:a,validateInfos:t,resetFields:u,validate:c,validateField:g,mergeValidateInfo:m,clearValidate:y}}var Fn=function(){return{layout:re.oneOf(oe("horizontal","inline","vertical")),labelCol:{type:Object},wrapperCol:{type:Object},colon:{type:Boolean,default:void 0},labelAlign:re.oneOf(oe("left","right")),labelWrap:{type:Boolean,default:void 0},prefixCls:String,requiredMark:{type:[String,Boolean],default:void 0},hideRequiredMark:{type:Boolean,default:void 0},model:re.object,rules:{type:Object},validateMessages:{type:Object,default:void 0},validateOnRuleChange:{type:Boolean,default:void 0},scrollToFirstError:{type:[Boolean,Object]},onSubmit:Function,name:String,validateTrigger:{type:[String,Array]},size:{type:String},onValuesChange:{type:Function},onFieldsChange:{type:Function},onFinish:{type:Function},onFinishFailed:{type:Function},onValidate:{type:Function}}};function yn(r,e){return De(ne(r),ne(e))}var wn=he({name:"AForm",inheritAttrs:!1,props:qr(Fn(),{layout:"horizontal",hideRequiredMark:!1,colon:!0}),Item:sn,useForm:bn,setup:function(e,n){var a=n.emit,t=n.slots,i=n.expose,u=n.attrs,s=Er(e),v=ke("form",e),f=v.prefixCls,g=v.direction,c=v.form,y=V(function(){return e.requiredMark===""||e.requiredMark}),m=V(function(){var F;return y.value!==void 0?y.value:c&&((F=c.value)===null||F===void 0?void 0:F.requiredMark)!==void 0?c.value.requiredMark:!e.hideRequiredMark}),x=V(function(){var F,h;return(F=e.colon)!==null&&F!==void 0?F:(h=c.value)===null||h===void 0?void 0:h.colon}),p=jr(),j=p.validateMessages,O=V(function(){return E(E(E({},ge),j.value),e.validateMessages)}),P=V(function(){var F;return ve(f.value,(F={},z(F,"".concat(f.value,"-").concat(e.layout),!0),z(F,"".concat(f.value,"-hide-required-mark"),m.value===!1),z(F,"".concat(f.value,"-rtl"),g.value==="rtl"),z(F,"".concat(f.value,"-").concat(s.value),s.value),F))}),M=ee(),o={},b=function(h,l){o[h]=l},k=function(h){delete o[h]},I=function(h){var l=!!h,d=l?ne(h).map(xe):[];return l?Object.values(o).filter(function(C){return d.findIndex(function(q){return yn(q,C.fieldName.value)})>-1}):Object.values(o)},$=function(h){if(!e.model){be(!1,"Form","model is required for resetFields to work.");return}I(h).forEach(function(l){l.resetField()})},w=function(h){I(h).forEach(function(l){l.clearValidate()})},S=function(h){var l=e.scrollToFirstError;if(a("finishFailed",h),l&&h.errorFields.length){var d={};Le(l)==="object"&&(d=l),_(h.errorFields[0].name,d)}},T=function(){return U.apply(void 0,arguments)},_=function(h){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=I(h?[h]:void 0);if(d.length){var C=d[0].fieldId.value,q=C?document.getElementById(C):null;q&&fn(q,E({scrollMode:"if-needed",block:"nearest"},l))}},A=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(h===!0){var l=[];return Object.values(o).forEach(function(d){var C=d.namePath;l.push(C.value)}),Oe(e.model,l)}else return Oe(e.model,h)},W=function(h,l){if(be(!(h instanceof Function),"Form","validateFields/validateField/validate not support callback, please use promise instead"),!e.model)return be(!1,"Form","model is required for validateFields to work."),Promise.reject("Form `model` is required for validateFields to work.");var d=!!h,C=d?ne(h).map(xe):[],q=[];Object.values(o).forEach(function(R){var D;if(d||C.push(R.namePath.value),!!(!((D=R.rules)===null||D===void 0)&&D.value.length)){var H=R.namePath.value;if(!d||Tr(C,H)){var Q=R.validateRules(E({validateMessages:O.value},l));q.push(Q.then(function(){return{name:H,errors:[],warnings:[]}}).catch(function(X){var J=[],te=[];return X.forEach(function(ue){var se=ue.rule.warningOnly,ce=ue.errors;se?te.push.apply(te,Z(ce)):J.push.apply(J,Z(ce))}),J.length?Promise.reject({name:H,errors:J,warnings:te}):{name:H,errors:J,warnings:te}}))}}});var N=Je(q);M.value=N;var B=N.then(function(){return M.value===N?Promise.resolve(A(C)):Promise.reject([])}).catch(function(R){var D=R.filter(function(H){return H&&H.errors.length});return Promise.reject({values:A(C),errorFields:D,outOfDate:M.value!==N})});return B.catch(function(R){return R}),B},U=function(){return W.apply(void 0,arguments)},L=function(h){if(h.preventDefault(),h.stopPropagation(),a("submit",h),e.model){var l=W();l.then(function(d){a("finish",d)}).catch(function(d){S(d)})}};return i({resetFields:$,clearValidate:w,validateFields:W,getFieldsValue:A,validate:T,scrollToField:_}),Qe({model:V(function(){return e.model}),name:V(function(){return e.name}),labelAlign:V(function(){return e.labelAlign}),labelCol:V(function(){return e.labelCol}),labelWrap:V(function(){return e.labelWrap}),wrapperCol:V(function(){return e.wrapperCol}),vertical:V(function(){return e.layout==="vertical"}),colon:x,requiredMark:m,validateTrigger:V(function(){return e.validateTrigger}),rules:V(function(){return e.rules}),addField:b,removeField:k,onValidate:function(h,l,d){a("validate",h,l,d)},validateMessages:O}),le(function(){return e.rules},function(){e.validateOnRuleChange&&W()}),function(){var F;return K("form",G(G({},u),{},{onSubmit:L,class:[P.value,u.class]}),[(F=t.default)===null||F===void 0?void 0:F.call(t)])}}});const In=wn;export{sn as F,In as a};
