import{u as $,_ as E}from"./ComSchemaForm.ddac7487.js";import{u as W}from"./usePagingList.7cc5691e.js";import{q as Q,d as U,b as F,e as H,m as K}from"./pile.8b72aa72.js";import"./request.320a4cb6.js";import{E as G,O as J,aI as R,o as s,b as m,d as a,c as t,e,w as l,f as o,aH as _,aE as g,aG as p}from"./index.3e073952.js";import{P as j}from"./index.d2d90e7b.js";import{P as X}from"./Card.bc99f03d.js";import{B as r}from"./styleChecker.eb92c49d.js";import{a as Y}from"./index.bb6352d4.js";import{T as Z}from"./dayjs.260c4fea.js";import{S as ee}from"./index.650eb3d7.js";import{T as te}from"./index.1881d489.js";import{P as ae}from"./index.4e3ab62a.js";import"./shallowequal.ccea8df8.js";import"./FormItemContext.3f5ce3ea.js";import"./treeData.11936c29.js";import"./index.ba495c24.js";import"./pickAttrs.d6d54610.js";import"./useState.2cff5e19.js";/* empty css                                                                   */import"./_plugin-vue_export-helper.cdc0426e.js";import"./Modal.96e6e95e.js";import"./index.61a2edd1.js";import"./index.29c0fa28.js";import"./Form.6fa778b0.js";import"./Col.061c78bf.js";import"./useFlexGapSupport.e5ca3a50.js";import"./station.53f7a1d4.js";import"./index.6751c452.js";import"./useDestroyed.98bfddca.js";import"./index.da9ad678.js";import"./FilterFilled.ebb64806.js";const le={class:"page-wrap"},ie={class:"page-head"},ne={class:"page-head"},oe={class:"fl"},se={class:"fr"},re={class:"page-body"},de={key:1},pe={class:"page-foot"},ce={class:"fl"},ue={class:"fr"},Ge={__name:"Pile",setup(me){const h={Available:"green",Unavailable:"red",Charging:"blue"},b=G(()=>[{name:"pile_charge_type",label:"Name"},{name:"pile_model",label:"Model"},{name:"pile_location_state",label:"State",type:"select",inputProps:{options:[{value:"nsw",label:"NSW"},{value:"tas",label:"TAS"},{value:"qld",label:"QLD"},{value:"vic",label:"VIC"},{value:"wa",label:"WA"},{value:"nt",label:"NT"},{value:"act",label:"ACT"},{value:"as",label:"AS"}]}},{name:"pile_sn",label:"SN"},{name:"pile_vendor",label:"Supplier"},{name:"charge_price",label:"Price"},{name:"pile_connect_no",label:"Connect Number"},{name:"pile_outputcurrentmax",label:"Max output power"},{name:"pile_status",label:"Working Status",type:"select",inputProps:{options:[{value:"Available",label:"Available"},{value:"Unavailable",label:"Unavailable"}]}},{name:"station_id_fk",label:"Station Id Fk",type:"select",inputProps:{options:JSON.parse(localStorage.getItem("stationIdList"))}}]),{listData:c,loading:f,size:C,total:v,queryValues:_e,selectedKeys:u,handleDelete:y,doQueryList:S,handleChangeSelect:w,handleChangeQueryValues:k,handleChangePage:x,handleChangeSize:I,handleDeleteList:P}=W({pk:"pile_id",queryListAction:Q,deleteOneAction:U,deleteListAction:F}),{formTitle:A,formVisible:N,formValues:O,handleCreate:V,handleModify:T,handleCancel:z,handleSubmit:L}=$({pk:"pile_id",createOneAction:H,modifyOneAction:K,editSuccessCallback:S}),D=n=>{k({search:n})};return J(c,(n,M)=>{}),(n,M)=>{const B=R("router-link");return s(),m("div",le,[a("div",ie,[t(e(j),{title:"Charging Pile Management"})]),a("div",ne,[a("div",oe,[t(e(r),{type:"primary",onClick:e(V)},{default:l(()=>[t(e(X)),o("Add New Charging Pile ")]),_:1},8,["onClick"])]),a("div",se,[t(e(Y),{type:"text",onSearch:D,allowClear:""})])]),a("div",re,[t(e(te),{"row-key":"pile_id",bordered:"","data-source":e(c),loading:e(f),pagination:!1,columns:[{title:"ID",dataIndex:"pile_id"},{title:"Charging Pile SN",dataIndex:"pile_sn",width:100,align:"center"},{title:"Type",dataIndex:"pile_charge_type"},,{title:"Model",dataIndex:"pile_model",width:100,align:"center"},{title:"State",dataIndex:"pile_location_state",width:100,align:"center"},{title:"Supplier",dataIndex:"pile_vendor",width:100,align:"center"},{title:"Connect Number",dataIndex:"pile_connect_no",width:250,align:"center"},{title:"Max Output Power",dataIndex:"pile_outputcurrentmax",width:250,align:"center"},{title:"Price",dataIndex:"charge_price",width:100,align:"center"},{title:"Working Status",dataIndex:"pile_status",width:100,align:"center"},{title:"Operate",dataIndex:"action",align:"center"}],"row-selection":{selectedRowKeys:e(u),onChange:e(w)}},{bodyCell:l(({column:d,record:i})=>[d.dataIndex==="pile_sn"?(s(),_(B,{key:0,to:`/pilemanage/${i.pile_sn}/${i.pile_connect_no}`},{default:l(()=>[a("span",null,g(i.pile_sn),1)]),_:2},1032,["to"])):p("",!0),d.dataIndex==="pile_status"?(s(),m("span",de,[t(e(Z),{size:"large",color:h[i.pile_status]},{default:l(()=>[o(g(i.pile_status),1)]),_:2},1032,["color"])])):p("",!0),d.dataIndex==="action"?(s(),_(e(ee),{key:2},{default:l(()=>[t(e(r),{type:"primary",onClick:q=>e(T)(i)},{default:l(()=>[o("modify")]),_:2},1032,["onClick"]),t(e(r),{type:"primary",danger:"",onClick:q=>e(y)(i)},{default:l(()=>[o("delete")]),_:2},1032,["onClick"])]),_:2},1024)):p("",!0)]),_:1},8,["data-source","loading","row-selection"])]),a("div",pe,[a("div",ce,[t(e(r),{danger:"",disabled:e(u).length===0,onClick:e(P)},{default:l(()=>[o("Delete All")]),_:1},8,["disabled","onClick"])]),a("div",ue,[t(e(ae),{current:n.page,"page-size":e(C),total:e(v),showSizeChanger:!1,onChange:e(x),onShowSizeChange:e(I),hideOnSinglePage:"true"},null,8,["current","page-size","total","onChange","onShowSizeChange"])])]),t(E,{width:800,visible:e(N),title:e(A),fields:e(b),values:e(O),onSubmit:e(L),onCancel:e(z)},null,8,["visible","title","fields","values","onSubmit","onCancel"])])}}};export{Ge as default};
