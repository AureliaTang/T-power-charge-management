import{r as u,B as m}from"./request.9103401f.js";import{h as R}from"./moment.9709ab41.js";import{u as q}from"./usePagingList.8c043149.js";import{u as F,_ as $,T as g}from"./ComSchemaForm.655be5ba.js";import{B as Q,o as i,b as v,d as s,c as t,e,w as o,f as r,am as _,Z as U,al as K}from"./index.b3cdcf3a.js";import{P as W}from"./index.f8c0f2bb.js";import{P as j}from"./Card.6c18e41b.js";import{a as G}from"./index.fbd8f8be.js";import{S as Z}from"./index.668ef068.js";import{T as J}from"./index.5c51c5c7.js";import{P as X}from"./index.53ff0e32.js";import"./index.96c37501.js";import"./Modal.04470cd5.js";import"./index.9eec16e7.js";import"./useDestroyed.7e3d3621.js";import"./debounce.7858bc7c.js";import"./isSymbol.b53cdcda.js";import"./treeData.11936c29.js";/* empty css                                                                   */import"./_plugin-vue_export-helper.cdc0426e.js";import"./useState.d458e043.js";import"./index.56c726a6.js";import"./Col.fd6c17f6.js";import"./useFlexGapSupport.6b891330.js";import"./station.b4a23395.js";import"./index.b4cda1c7.js";import"./FilterFilled.59fd6a7c.js";const c="/server/operators_info_new/",ee=a=>u({method:"GET",url:c,params:a}),ae=a=>u({method:"POST",url:c,data:a}),te=a=>u({method:"PUT",url:c+a.operators_id+"/",data:a}),y=a=>u({method:"DELETE",url:c+a+"/",data:{id:a}}),se=async a=>{for(let p of a)await y(p)},oe={class:"page-wrap"},le={class:"page-head"},re={class:"page-head"},ne={class:"fl"},ie={class:"fr"},de={class:"page-body"},me={class:"page-foot"},ue={class:"fl"},ce={class:"fr"},qe={__name:"Admin",setup(a){const{listData:p,loading:k,total:C,page:w,size:S,selectedKeys:f,queryValues:pe,handleChangeSelect:P,handleChangeQueryValues:x,handleChangePage:A,handleChangeSize:D,handleRefresh:I,handleDelete:O,handleDeleteList:T,doQueryList:_e}=q({pk:"operators_id",queryListAction:ee,deleteOneAction:y,deleteListAction:se}),{formTitle:Y,formVisible:L,formValues:h,handleCreate:H,handleModify:M,handleCancel:V,handleSubmit:N}=F({pk:"operators_id",createOneAction:ae,modifyOneAction:te,editSuccessCallback:I}),B=Q(()=>{let n=[{name:"user_id_fk",label:"Username",names:"username"},{name:"user_id_fk",label:"Password",type:"password",names:"password"},{name:"user_id_fk",label:"Last login",type:"date",names:"last_login",inputProps:{format:"YYYY-MM-DD HH:mm:ss","show-time":"{ format: 'HH:mm' }",valueFormat:"YYYY-MM-DD HH:mm:ss"}},{name:"user_id_fk",label:"First name",names:"first_name"},{name:"user_id_fk",label:"Last name",names:"last_name"},{name:"user_id_fk",label:"Email address",names:"email"},{name:"user_id_fk",label:"Available",names:"is_active",type:"radio",inputProps:{options:[{value:!0,label:"yes"},{value:!1,label:"no"}]}},{name:"operators_state",label:"States",type:"select",inputProps:{options:[{value:"nsw",label:"NSW"},{value:"tas",label:"TAS"},{value:"qld",label:"QLD"},{value:"vic",label:"VIC"},{value:"wa",label:"WA"},{value:"nt",label:"NT"},{value:"act",label:"ACT"},{value:"as",label:"AS"}]}},{name:"operators_postcode",label:"Postcode"},{name:"user_id_fk",names:"is_superuser",label:"Is it a superuser?",type:"radio",inputProps:{options:[{value:!0,label:"yes"},{value:!1,label:"no"}]}}];return h.value.id&&n.splice(2,2),n}),E=n=>{x({search:n})};return(n,b)=>(i(),v("div",oe,[s("div",le,[t(e(W),{title:"Operators Management"})]),s("div",re,[s("div",ne,[t(e(m),{type:"primary",onClick:b[0]||(b[0]=l=>e(H)("","Add New Operators"))},{default:o(()=>[t(e(j)),r("Add New Operator ")]),_:1})]),s("div",ie,[t(e(G),{type:"text",onSearch:E,allowClear:""})])]),s("div",de,[t(e(J),{"row-key":"id",bordered:"","data-source":e(p),loading:e(k),pagination:!1,columns:[{title:"Operators ID",dataIndex:"operators_id"},{title:"Username",dataIndex:["user_id_fk","username"]},{title:"Registration Datetime",dataIndex:["user_id_fk","date_joined"],customRender:({text:l})=>e(R)(l).utc().format("YYYY-MM-DD HH:mm:ss")},{title:"Registrant",dataIndex:["user_id_fk","first_name"]},{title:"Available",dataIndex:["user_id_fk","is_active"],customRender:({text:l})=>l===!0?"yes":"no"},{title:"Postcode",dataIndex:"operators_postcode"},{title:"States",dataIndex:"operators_state"},{title:"Operate",dataIndex:"action",width:160,align:"center"}],"row-selection":{selectedRowKeys:e(f),onChange:e(P)}},{bodyCell:o(({column:l,record:d})=>[l.dataIndex==="action"?(i(),_(e(Z),{key:0},{default:o(()=>[t(e(m),{type:"primary",onClick:z=>e(M)(d)},{default:o(()=>[r("modify")]),_:2},1032,["onClick"]),t(e(m),{type:"primary",danger:"",onClick:z=>e(O)(d)},{default:o(()=>[r("delete")]),_:2},1032,["onClick"])]),_:2},1024)):l.dataIndex==="status"?(i(),v(U,{key:1},[d.status===1?(i(),_(e(g),{key:0,color:"green"},{default:o(()=>[r("\u542F\u7528")]),_:1})):(i(),_(e(g),{key:1},{default:o(()=>[r("\u7981\u7528")]),_:1}))],64)):K("",!0)]),_:1},8,["data-source","loading","columns","row-selection"])]),s("div",me,[s("div",ue,[t(e(m),{danger:"",disabled:e(f).length===0,onClick:e(T)},{default:o(()=>[r("Delete All")]),_:1},8,["disabled","onClick"])]),s("div",ce,[t(e(X),{current:e(w),"page-size":e(S),total:e(C),onChange:e(A),onShowSizeChange:e(D)},null,8,["current","page-size","total","onChange","onShowSizeChange"])])]),t($,{width:800,visible:e(L),title:e(Y),fields:e(B),values:e(h),onSubmit:e(N),onCancel:e(V)},null,8,["visible","title","fields","values","onSubmit","onCancel"])]))}};export{qe as default};
