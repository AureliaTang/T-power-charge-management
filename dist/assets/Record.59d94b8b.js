import{u as q}from"./usePagingList.d9f7ed49.js";import{u as z,_ as N}from"./ComSchemaForm.69cf1e46.js";import{r,B as s}from"./request.e95454fd.js";import{B as $,a as f,o as h,b as F,d as i,c as a,e,w as o,f as l,am as G,al as K}from"./index.55cf085f.js";import{P as Q}from"./index.227eebfc.js";import{P as R}from"./Card.79b8d940.js";import{a as j}from"./index.7eced5b4.js";import{S as J}from"./index.51820f5b.js";import{T as U}from"./index.015808d9.js";import{P as W}from"./index.76152c0a.js";import"./index.b1924724.js";import"./Modal.cd6a7cf2.js";import"./shallowequal.9bf93796.js";import"./pickAttrs.c337f33a.js";import"./useDestroyed.6570a5e8.js";import"./debounce.8f05f4a2.js";import"./isSymbol.92b049d2.js";import"./treeData.11936c29.js";import"./index.790d6f1a.js";import"./useState.b2cd0e7b.js";/* empty css                                                                   */import"./_plugin-vue_export-helper.cdc0426e.js";import"./index.f2b29a9c.js";import"./Form.95d6e895.js";import"./Col.d871f895.js";import"./useFlexGapSupport.ab34fae3.js";import"./index.fe3c4aa9.js";import"./station.effc7bfb.js";import"./dayjs.b63d3b91.js";import"./index.90a5b505.js";import"./FilterFilled.810f0803.js";const n="server/price_table/",X=t=>r({method:"GET",url:n,params:t}),Z=t=>r({method:"GET",url:n+t+"/"}),ee=t=>r({method:"POST",url:n,data:t}),te=t=>r({method:"PATCH",url:n+t.price_id+"/",data:t}),g=t=>r({method:"DELETE",url:n+t+"/"}),ae=async t=>{for(let d of t)await g(d)},ie={class:"page-wrap"},oe={class:"page-head"},re={class:"page-head"},ne={class:"fl"},se={class:"fr"},le={class:"page-body"},de={class:"page-foot"},ce={class:"fl"},me={class:"fr"},Ge={__name:"Record",setup(t){const d=$(()=>[{name:"price_of_electricity",label:"Price of electricity"},{name:"price_of_parking",label:"Price of parking"},{name:"station_id_fk",label:"Charging station ID",type:"station"},{name:"set_datetime",label:"Set Datetime",type:"date",inputProps:{format:"YYYY-MM-DD HH:mm:ss","show-time":"{ format: 'HH:mm' }",valueFormat:"YYYY-MM-DD HH:mm:ss"}}]),{listData:y,loading:C,total:k,page:P,size:b,selectedKeys:m,queryValues:pe,handleChangeSelect:S,handleChangeQueryValues:v,handleChangePage:w,handleChangeSize:D,doQueryList:x,handleDelete:I,handleDeleteList:O}=q({queryListAction:X,deleteOneAction:g,pk:"price_id",deleteListAction:ae}),{formTitle:A,formVisible:T,formValues:E,handleCreate:H,handleModify:V,handleCancel:Y,handleSubmit:B}=z({createOneAction:ee,modifyOneAction:te,editSuccessCallback:x,queryOneAction:Z,pk:"price_id"});f(!1),f({});const L=c=>{v({search:c})};return(c,p)=>(h(),F("div",ie,[i("div",oe,[a(e(Q),{title:"Price Management"})]),i("div",re,[i("div",ne,[a(e(s),{type:"primary",onClick:p[0]||(p[0]=u=>e(H)("","Add New"))},{default:o(()=>[a(e(R)),l("Add New Price Data ")]),_:1})]),i("div",se,[a(e(j),{type:"text",onSearch:L,allowClear:""})])]),i("div",le,[a(e(U),{"row-key":"id",bordered:"","data-source":e(y),loading:e(C),pagination:!1,columns:[{title:"Price ID",dataIndex:"price_id",width:120},{title:"Price of Electricity",dataIndex:"price_of_electricity"},{title:"Price of Parking",dataIndex:"price_of_parking"},{title:"States",dataIndex:["station_id_fk","station_location_state"]},{title:"Postcode",dataIndex:["station_id_fk","station_postcode"]},{title:"Charging Station ID",dataIndex:["station_id_fk","station_id"]},{title:"Operate",dataIndex:"action",width:250,align:"center"}],"row-selection":{selectedRowKeys:e(m),onChange:e(S)}},{bodyCell:o(({column:u,record:_})=>[u.dataIndex==="action"?(h(),G(e(J),{key:0},{default:o(()=>[a(e(s),{type:"primary",onClick:M=>e(V)(_)},{default:o(()=>[l("modify")]),_:2},1032,["onClick"]),a(e(s),{type:"primary",danger:"",onClick:M=>e(I)(_)},{default:o(()=>[l("delete")]),_:2},1032,["onClick"])]),_:2},1024)):K("",!0)]),_:1},8,["data-source","loading","row-selection"])]),i("div",de,[i("div",ce,[a(e(s),{danger:"",disabled:e(m).length===0,onClick:e(O)},{default:o(()=>[l("Delete All")]),_:1},8,["disabled","onClick"])]),i("div",me,[a(e(W),{current:e(P),"page-size":e(b),total:e(k),onChange:e(w),onShowSizeChange:e(D)},null,8,["current","page-size","total","onChange","onShowSizeChange"])])]),a(N,{width:800,visible:e(T),title:e(A),fields:e(d),values:e(E),onSubmit:e(B),onCancel:e(Y)},null,8,["visible","title","fields","values","onSubmit","onCancel"])]))}};export{Ge as default};
